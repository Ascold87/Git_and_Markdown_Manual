# **Инструкция по работе с GIT**

## Основная информация по GIT

Git — самая популярная в мире распределённая система контроля версий. Проект был создан Линусом Торвальдсом для управления разработкой ядра Linux, первая версия выпущена 7.04.2005г. 

![Лого](logo.png)

### Терминология

> хэш (hash) - 16-тиричное имя коммита
>
> коммит (commit) - сохранение состояния репозитория
>
> индекс (index) - отслеживаемые (подготовленные) файлы в репозитории

## Начало работы

Для запуска Git в VisualStudiioCode необходимо ввести:

    git init

### Информация о GIT

Чтобы узнать версию GIT и понять, что он корректно установлен, используется команда:

    git --version

### Представление GITy

Для работы в Git cперва необходимо представиться системе. Это задается следующими командами:

1. Указание своего имени:

    git config --global user.name `<user_name>`

 2. Указание своего E-mail:

    git config --global user.email `<user_email>`

# Непосредственная работа с **Git**

## Проверка состояния репозитория

Чтобы проверить текущее состояние репозитория используется команда:

    git status

## Создание файла

Создать файл через команду можно параметром touch:

    git touch <file_name>

## Добавление файла в индекс

Добавить отдельный файл в область подготовленных файлов можно командой:

    git add <file_name>

Можно добавить ВСЕ файлы в индекс - проставить точку, вместо имени файла.

    git add .

Показать новые/изменённые файлы по очереди с указанием их изменений и вопросом об отслеживании:

    git add -p

 Запустить интерактивную оболочку для добавления в индекс только выбранных файлов и доп.функций:

    git add -i

>Чтобы ненужные файлы не отслеживались в Индексе необходимо создать новsq файл .gitignore и занести туда названия файлов.

## Удаление файла из индекса

Удалить отдельный файл из области подготовленных файлов можно командой:

    git rm <file_name>

## Фиксация изменений

    git commit

Можно с коммитом оставлять комментарий добавлением флажка `-m`, пример:

    git commit -m "текст комментария"

Первый коммит принято называть `initial commit`

Для добавления в Индекс всех файлов - добавить флаг `-a`, при этом откроется окно ввода названия коммита:

    git commit -a

>Можно обьединить оба флага, как -am.

## Журнал изменений

Чтобы узнать, какие версии существуют используется команда:

    git log 

Для подробной справки об изменениях в каждом коммите - добавить флаг `-p` :

    git log -p

Для краткого списка толькл имен коммитов добавить `--oneline` :

    git log --oneline

Для графического отображения ветвлений коммитов - добавить флаг `--graph` :

    git log --graph

>Флаги можно совмещать в одной строке.

Для списка всех имен всех коммитов добавить `--all` :

    git log --all

## Переход между версиями

Dля перехода к извесной версии используется команда:

    git checkout <hash>

>указываем номер хэша, которыйе надо загрузить. Достаточно указать первые четыре [4] символа.
>
>Дла возврата к главной ветке - добавить `master` ( или `main` )

## Сравнение версий

Для сравнения изменений файла, по сравнению с последним коммитом, используется команда:

    git diff

Можно также посмотреть разницу между любыми двуми коммитами. Для этого используется команда:

    git diff <хэш_1> <хэш_2> 

Cравнить показав отличия.

    git diff --color-words

Сравнить рабочую директорию и коммит, на который указывает `HEAD`.

    git diff HEAD
 
 ## Просмотр заданного коммита

Просмотреть полный список изменений, внесённых конкретным коммитом,  можно с помощью параметра show, указав идентификатор или хеш коммита. Можно использовать сокращенный.

    git show <hash>

## Удаление файлов из рабочего дерева

Удалять файлы из текущего рабочего дерева можно с помощью:

    git rm папка/<имя_файла>

> Обратите внимание, что использование кириллицы в названии файлов и каталогов нежелательно.

## Переименование файлов

 Переименование исполняется параметром MV в формате:

   git mv <файл1> <папка2>

# Работа с ветками

Для параллельной работы с несколькими коммитами, имеющие один корневой коммит используются ВЕТВЛЕНИЯ. Для работы с ветками используется парасетр branch

Посмотреть список веток выполняется следующим образом:

    git branch

>! Текущая ветка отображается в левом нижнем углу экрана.

## Создание новой ветки

Создаётся новая ветка командой:

    git branch <branch_name>

## Переход на другую ветку

Для перехода на другую ветку из текущей осуществляется командой:

    git checkout <branch_name>

>Главная ветка именуется - `master` (в VSCode) или `main` (в Github)

## Слияние веток

Чтобы влить одну ветку в другую необходимо **находясь в целевой ветке** - выполнить команду:

    git merge <имя_вливаемой_ветки>

## Разрешение конфликтов

Если одна и та же строка в разный версиях записана по разному возникнет конфликт. Чистый Git автоматически сохраняет *оба* изменения, далее требуется вручную внести нужные правки и сделать коммит.

>VSСode дает возможность выбрать какое изменение сохранить (входящее, существующее или оба).

## Удаление мердженной ветки

Чтобы удалить ветку, которая больше не нужна (например после слияния) используется команда:

    git branch -d <имя_ветки>

>Для удаления немердженной ветки необходимо испоьзовать флаг `-D`

# Удалённые репозитории

## Создание удалённого репозитория

Для создания уд.репозитория необходимо:

1. Быть авторизованным на сайте github.com.
2. Кликнуть по кнопке "новый репозиторий" (название может отличаться)
3. Ввести имя нового репо. и указать при необходимости дополнительные параметры.
4. В окне установки выбрать один из параметров:
    1. Возпользоваться "быстрой установкой".
    2. Создать новый репозиторий в командной строке терминала.
    3. Загрузить существующий репозиторий из командной строки терминала.
    4. Импортировать код из другого репозитория.

Готово!

## Работа с чужими репозиториями

Для начала работы с чужим репозиторием необходимо его перенести на свой.

Это осуществляется двумя методами:
1. Через клонирование репозитория - создаётся полная самостоятельная копия исходного репо. на локальный ПК.
2. Через "форк" репозитория - создаётся ответвление исходника, который находится в некой зависимости с оригиналом. Можно внести изменения и предложить автору оригинала встроить код (данные) в свой проект.

Для того чтобы **перенести** репозиторий на ПК, его необходимо **клонировать** командой:

    git clone <URL>
    
>URL берется из github -> repo_page -> code (вкладка) -> code (кнопка) -> HTTPS -> copy URL

Сделать **форк** можно следующим образом:

>github -> repo_page -> fork (кнопка) -> (задать имя/описание, выбрать ветки) -> create fork (кнопка) -> (форк репозитория появится на github)

>Форк можно перенести на локальный ПК через команду *git clone* в терминале.

Для *предложения о внесении изменений* в **оригинал** необходимо сделать **Pull Request**:

>github -> repo_page -> pull request (вкладка) 
>
>ИЛИ github -> repo_page -> code (вкладка) -> сompare & pull request (кнопка)
>
>ИЛИ github -> repo_page -> code (вкладка) -> contribute (кнопка) -> pull request (кнопка)
>
> -> (составить заголовок и сообщение об изменениях) -> create pull request (кнопка)

Решение о принятии новых данных принимает автор оригинала.

>Важно !
>
> Является хорошим тоном и общей практикой в форке *производить изменения в отдельной ветке*.

## Непосредственная работа с удалёнными репозиториями
    
Чтобы скачать все из удалённого репозитория и автоматически DO **merge** с нашей версией:

    git pull
    
Вытягивать изменения из определённой ветки удаленного репозитория:
    
    git pull origin <branch name>
    
Чтобы загрузить все изменения из текущего репозитория в удалённый:

    git push
    
Отправить ветку в удаленный репозиторий:
    
    git push origin <branch name>
    
Удалить ветку в удаленном репозитории:

    git push origin --delete <branch name>
    
>Важно!
>
>Git должен быть `авторизован` на внесение изменений в удалённом репозитории и должен знать `адрес` удалённого репозитория.

## Управление отслеживаемыми удалёнными репозиториями.

Получить данные об удалённом репозитории:

    git remote show origin

>Флаг `-n` - позволяет не запрашивать удалённые ветки.
    
Добавить удалённый репозиторий:

    git remote add origin URL

Показать список удалённых репозиториев, связанных с локальным:

    git remote -v  
    
Удалить привязку удалённого репозитория:

    git remote rm origin   

# End